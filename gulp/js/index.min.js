function initTable(){$.get("api/profile_list",e=>{for(var t in console.log(e),e){var a=createSelect("roleSelector"+t,"role",e[t].role),n=createSelect("statusSelector"+t,"status",e[t].status);$("#profilesTableBody").append($("<tr>").append($("<td>").text(""+e[t].name)).append($("<td>").text(""+e[t].email)).append($("<td>").append(a)).append($("<td>").append(n)).append($("<td>").append($("<a>").attr("href","/admin/profile/"+t).append($("<i>").attr("class","fa-solid fa-user")))))}})}function createSelect(e,t,a){let n=[],i=("role"===t?n=["user","admin"]:"status"===t&&(n=["verified","not verified","blocked"]),$("<select>").attr("id",e).attr("class",t));return n.forEach(function(e){i.append($("<option>").attr("value",e).text(e))}),i.val(a),i}$(document).ready(function(){initTable(),$("#loadingSpinner").hide(),$("#profilesTable").show(),$(document).on("change","select",function(){var e={},t=parseInt($(this).attr("id").match(/\d+/)[0],10);console.log(t),e[$(this).find("option:selected").parent().attr("class")]=$(this).find("option:selected").val(),$.ajax({url:"/api/profile/"+t,type:"PUT",data:JSON.stringify(e),contentType:"application/json"})})});