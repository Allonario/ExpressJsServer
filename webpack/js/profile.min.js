(()=>{"use strict";function t(t,e,a){var n=[];"role"===e?n=["user","admin"]:"status"===e&&(n=["verified","not verified","blocked"]);var o=$("<select>").attr("id",t).attr("class",e);return n.forEach((function(t){o.append($("<option>").attr("value",t).text(t))})),o.val(a),o}$(document).ready((function(){$.get("api/profile_list",(function(e){for(var a in e=JSON.parse(e),console.log(e),e){var n=t("roleSelector".concat(a),"role",e[a].role),o=t("statusSelector".concat(a),"status",e[a].status);$("#profilesTableBody").append($("<tr>").append($("<td>").text("".concat(e[a].name))).append($("<td>").text("".concat(e[a].email))).append($("<td>").append(n)).append($("<td>").append(o)).append($("<td>").append($("<a>").attr("href","/profile/".concat(a)).append($("<i>").attr("class","fa-solid fa-user")))))}})),$("#loadingSpinner").hide(),$("#profilesTable").show(),$(document).on("change","select",(function(){var t={},e=parseInt($(this).attr("id").match(/\d+/)[0],10);console.log(e),t[$(this).find("option:selected").parent().attr("class")]=$(this).find("option:selected").val(),$.ajax({url:"/api/profile_list/".concat(e),type:"PUT",data:JSON.stringify(t),contentType:"application/json"})}))}))})();